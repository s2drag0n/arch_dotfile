var longStepInput=document.getElementById("long-step"),speedStepInput=document.getElementById("speed-step"),spaceControl=document.getElementById("spaceAlwaysControl"),saved=document.getElementById("saved"),timeFormatSecond=document.getElementById("timeFormatSecond"),timeFormatHour24=document.getElementById("timeFormatHour24");function initMsg(){let a=document.querySelectorAll("[data-i18n]");for(const b of a)b.textContent=chrome.i18n.getMessage(b.dataset.i18n)}
function saveStep(){var a=parseInt(longStepInput.value);Number.isNaN(a)||1>a?alert("input error"):(a={longStep:a,spaceAlwaysControl:spaceControl.checked,speedStep:parseFloat(speedStepInput.value)},chrome.storage.sync.set(a,function(){saved.classList.add("show");setTimeout(()=>{saved.classList.remove("show")},1E3)}))}function saveImageFormat(a){chrome.storage.sync.set({imageFormat:this.value})}
function init(){initMsg();document.body.firstElementChild.classList.remove("d-none");document.getElementById("saveStep").addEventListener("click",saveStep);timeFormatSecond.addEventListener("click",function(a){chrome.storage.sync.set({timeFormatSecond:timeFormatSecond.checked})});timeFormatHour24.addEventListener("click",function(a){chrome.storage.sync.set({timeFormatHour24:timeFormatHour24.checked})});document.getElementById("imageFormat-jpg").addEventListener("click",saveImageFormat);document.getElementById("imageFormat-png").addEventListener("click",
saveImageFormat);chrome.storage.sync.get({longStep:30,speedStep:.25,spaceAlwaysControl:!0,timeFormatHour24:!1,timeFormatSecond:!1,imageFormat:"jpg"},function(a){longStepInput.value=a.longStep;speedStepInput.value=a.speedStep;timeFormatSecond.checked=a.timeFormatSecond;timeFormatHour24.checked=a.timeFormatHour24;spaceControl.checked=a.spaceAlwaysControl;document.getElementById("imageFormat-"+a.imageFormat).checked=!0})}init();
